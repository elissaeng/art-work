{% extends 'base.html' %}

{% block content %}


<h1 class="text-end">{{ profile.name }}</h1>


<div class="row">
  <div class="col-6  p-5">
    <h2>{{ profile.location }}</h2>
    <h4>{{ profile.blurb }}</h4>
    <h5>{{ profile.website }}</h5>
    <h6>Follow</h6>
    <h6>Message</h6>
  </div>

  <div class="col-6  p-5">
    {% comment %} <h2>Profile Image</h2> {% endcomment %}
    
  
      <img class="profile-img card-panel" src="{{profile.profile_img}}">
    
      
</div>


{% comment %} <div class="container">
  <div class="row">
    <div class="col-12 bg-dark p-4">
    </div>
  </div>
</div> {% endcomment %}


<div class="card" style="width: 18rem;">
  <div class="card-body fun-fact">
    <h5 class="card-title">Fun Fact</h5>
    <p class="card-text">{{ profile.fun_fact }}</p>
  </div>
</div>


{% comment %} <div class="row">
  <div class="col bg-info p-5">
    <h1>IMAGE</h1>
  </div> {% endcomment %}
  <div class="col bio p-5">
    <h1>BIO</h1>
     {{ profile.bio }}
</div>



<div class="card" style="width: 18rem;">
  <div class="card-body highlights">
    <h5 class="card-title">Highlights</h5>
    <p class="card-text">{{ profile.highlights }}</p>
  </div>
</div>





{% if is_gallery %}
<h1>this is gallery</h1>
<h2>artist following</h2>
<ul>
  {% for artist in following %}
    <li><a href="{% url 'artist_show' artist.id %}">{{ artist.name }}</a> <a href="{% url 'remove_artist' artist.id %}">Unfollow</a></li>
  {% endfor %}
</ul>
{% comment %} ADD GALLERY TO ARTIST {% endcomment %}
{% comment %} <div class="card-action">
  <form action="{% url 'assoc_gallery' artist.id gallery.id %}" method="POST">
    {% csrf_token %}
    <button type="submit" class="btn">Add</button>
  </form>
</div> {% endcomment %}
<div class="card-action">
<form action="{% url 'gallery_photo' profile.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <br><br>
    <input type="submit" class="btn" value="Upload Photo">
</form>
  {% for photo in profile.gallery_photo_set.all %}
      <img class="responsive-img card-panel" src="{{photo.url}}">
    {% empty %}
      <div class="card-panel teal-text center-align">No Photos Uploaded</div>
    {% endfor %}

<div class="card-action">
  <a href="{% url 'gallery_edit' profile.id %}">Edit Profile</a>
  <a href="{% url 'gallery_delete' profile.id %}">Delete Profile</a>
</div> 

{% else  %}
<h1>this is artist</h1>
<h2>galleries following</h2>
<ul>
  {% for gallery in following %}
    <li><a href="{% url 'gallery_show' gallery.id %}">{{ gallery.name }}</a><a href="{% url 'remove_gallery' gallery.id %}">Unfollow</a></li>
  {% endfor %}
</ul>
<div class="card-action">
<form action="{% url 'artist_photo' profile.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <br><br>
    <input type="submit" class="btn" value="Upload Photo">
</form>
  {% for photo in profile.artist_photo_set.all %}
      <a href="{% url 'image_show' photo.id %}"><img class="responsive-img card-panel" src="{{photo.url}}"></a>
    {% empty %}
      <div class="card-panel teal-text center-align">No Photos Uploaded</div>
    {% endfor %}

  <a href="{% url 'artist_edit' profile.id %}">Edit Profile</a>
  <a href="{% url 'artist_delete' profile.id %}">Delete Profile</a>
</div> 
{% endif %}







{% endblock %}